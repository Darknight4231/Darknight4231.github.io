<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset=utf-8 />
    <title>
      **Template**
    </title>
    <meta name="GENERATOR" content="Arachnophilia 5.5" />
    <meta name="FORMATTER" content="Arachnophilia 5.5" />
    <style>
canvas { background: #eee; display: block; margin: 0 auto;}
body {
  background-color: rgb(10,200,255);
  font-family:  VL Gothic, arial;
  padding: 0; margin: 0;
 }
</style>
</head>

<body>
<canvas id="myCanvas"><p>Your browser doesn't support CanvasAPI -- use another browser such as Chrome or Edge.</p></canvas>

<script>


const canvas = document.getElementById('myCanvas'); const ctx = canvas.getContext("2d");
const cramw = canvas.width = window.innerWidth; const cramh = canvas.height = window.innerHeight;

/****
function cooldown(e){

}
****/

let Wave=[1,1,1,0,0];
let BlueMinion   =[];
let RedMinion    =[];
let WaveNumber    =0;
let lanes         =3;

function WaveGen(){
    if (Number.isInteger(WaveNumber/3)) {Wave.push(2);} else {if (Wave[Wave.length-3]==0) {Wave.push(1);}else {Wave.push(0);}}
  for (let i = 0; i < Wave.length; i++) {
    for(let c=0; c<lanes; c++){
      BlueMinion.push(new minion(c,Wave[i],2,'blue',0));
    RedMinion.push(new minion(c,Wave[i],-2,'red',cramh));}
  }
  console.log("Wave "+WaveNumber+" Generated");
    WaveNumber++;
}
WaveGen();
setInterval(WaveGen,3000);

function minion(lane, type, direction, color, y){
  this.lane = lane;
  this.hp = 10*WaveNumber;
  this.damage = 2*WaveNumber;
  this.cooldown = 200;
  this.alive = true;
  this.canAttack=true;
  this.type = type;
  this.color = color;
  this.direction = direction;
  this.y = y;
  this.x = cramw/8+lane*(cramw/lanes);
  this.width=200;
  this.range = type*5+5;
}

 function draw(){

   ctx.clearRect(0,0,cramw,cramh);

   for (let i = 0; i < RedMinion.length; i++){
   ctx.beginPath();
   ctx.fillStyle = RedMinion[i].color;
   ctx.rect(RedMinion[i].x,RedMinion[i].y,RedMinion[i].width,RedMinion[i].width);
   ctx.fill();
   ctx.closePath();
   RedMinion[i].y+=RedMinion[i].direction;
 }
   for (let i = 0; i < BlueMinion.length; i++) {
     ctx.beginPath();
     ctx.fillStyle = BlueMinion[i].color;
     ctx.rect(BlueMinion[i].x,BlueMinion[i].y,BlueMinion[i].width,BlueMinion[i].width);
     ctx.fill();
     ctx.closePath();
     BlueMinion[i].y=BlueMinion[i].y+BlueMinion[i].direction;
   }
   requestAnimationFrame(draw);
 }
draw();
</script>
</body>
