<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset=utf-8 />
    <title>
      **Template**
    </title>
    <meta name="GENERATOR" content="Arachnophilia 5.5" />
    <meta name="FORMATTER" content="Arachnophilia 5.5" />
    <style>
canvas { background: #eee; display: block; margin: 0 auto;}
body {
  background-color: rgb(10,200,255);
  font-family:  VL Gothic, arial;
  padding: 0; margin: 0;
 }
</style>
</head>

<body>
<canvas id="myCanvas"><p>Your browser doesn't support CanvasAPI -- use another browser such as Chrome or Edge.</p></canvas>

<script>


const canvas = document.getElementById('myCanvas'); const ctx = canvas.getContext("2d");
const cramw = canvas.width = window.innerWidth; const cramh = canvas.height = window.innerHeight;

function getRandom(min, max) {
    min=Math.ceil(min);max=Math.floor(max);return Math.floor(Math.random()*(max-min+1))+min;
};


function cooldown(e){

};

let Wave=[1,1,1,0,0];
let BlueMinion   =[];
let RedMinion    =[];
let WaveNumber    =0;
let lanes         =3;

let rgbToHex = function (rgb) {
  let hex = Number(rgb).toString(16);
  if (hex.length < 2) {
       hex = "0" + hex;
  }
  return hex;
};

function WaveGen(){
    if (Number.isInteger(WaveNumber/3)) {Wave.push(2);} else {if (Wave[Wave.length-3]==0) {Wave.push(1);}else {Wave.push(0);}}
  for (let i = 0; i < Wave.length; i++) {
    for(let c=0; c<lanes; c++){
    BlueMinion.push(new minion(c,Wave[i],2,'#DC1414'));
    RedMinion.push(new minion(c,Wave[i],-2,'#DC1414'));}
  }
  console.log("Wave "+WaveNumber+" Generated");
    WaveNumber++;
}

function Sort(type, index){
  let idx = MinionArray.indexOf(type);
    while (idx != -1) {
      index.push(idx);
      idx = MinionArray.indexOf(type, idx + 1);
    }
 }

setInterval(WaveGen,3000);

function minion(lane, type, direction, color){
  this.lane = lane;
  this.hp = 10*WaveNumber;
  this.damage = 2*WaveNumber;
  this.cooldown = 200;
  this.alive = true;
  this.canAttack=true;
  this.type = type;
  this.color = color;
  this.direction = direction;
  this.y = cramh/2;
  this.x = (cramw/6)
  this.width=200;
  this.range = type*5+5;
};

 function draw(){

   ctx.clearRect(0,0,cramw,cramh);

   for (let i = 0; i < RedMinion.length; i++){
   ctx.beginPath();
   ctx.fillStyle = 'red';
   ctx.fillRect(RedMinion[i].x,RedMinion[i].y,RedMinion.width,RedMinion.width);
   ctx.closePath();
   RedMinion[i].y+=RedMinion[i].direction;
 };
   for (let i = 0; i < BlueMinion.length; i++) {
     ctx.beginPath();
     ctx.fillStyle = 'blue';
     ctx.rect(BlueMinion[i].x,BlueMinion[i].y,BlueMinion.width,BlueMinion.width);
     ctx.fill();
     ctx.closePath();
     BlueMinion[i].y=BlueMinion[i].y+BlueMinion[i].direction;
   };
   ctx.closePath();
   requestAnimationFrame(draw);
 }
draw();
</script>
</body>
